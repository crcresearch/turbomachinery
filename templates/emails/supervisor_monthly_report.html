<h2 style="color: #333; font-family: Arial, sans-serif; margin-bottom: 5px;">Supervisor {% if monthly %}Monthly{% else %}Weekly{% endif %} Time Report</h2>
<p style="color: #666; font-family: Arial, sans-serif; margin-top: 0;">Report Period: {{ start_date|date:"M d, Y" }} - {{ end_date|date:"M d, Y" }}</p>

{% if entries %}
<table cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif;">
    <tr>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Sum of Hours</th>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Column Labels</th>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Grand Total</th>
    </tr>
    <tr>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Row Labels</th>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Hours</th>
        <th style="border: 1px solid #000; padding: 8px; text-align: center;">Grand Total</th>
    </tr>
    
    <!-- Data rows -->
    {% for project_code, project_data in entries.items %}
    <tr>
        <td style="border: 1px solid #000; padding: 8px;">{{ project_code }}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ project_data.total_hours|floatformat:2 }}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ project_data.total_hours|floatformat:2 }}</td>
    </tr>
        {% for username, user_data in project_data.users.items %}
        <tr>
            <td style="border: 1px solid #000; padding: 8px; padding-left: 20px;">{{ username }}</td>
            <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ user_data.total_hours|floatformat:2 }}</td>
            <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ user_data.total_hours|floatformat:2 }}</td>
        </tr>
            {% for activity, hours in user_data.activities.items %}
            <tr>
                <td style="border: 1px solid #000; padding: 8px; padding-left: 40px;">{{ activity }}</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ hours|floatformat:2 }}</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: right;">{{ hours|floatformat:2 }}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    {% endfor %}
</table>
{% else %}
<p>No data available for this period.</p>
{% endif %}

{% for week in weekly_ranges %}
<table border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>Sum of Hours</th>
        <th>Column Labels</th>
        <th>Grand Total</th>
    </tr>
    <tr>
        <th>Row Labels</th>
        <th>Hours</th>
        <th>Grand Total</th>
    </tr>
    {% for project_code, project_data in week.entries.items %}
    <tr style="background-color: #f0f8ff;">
        <td>{{ project_code }}</td>
        <td>{{ project_data.total_hours }}</td>
        <td>{{ project_data.total_hours }}</td>
    </tr>
        {% for username, user_data in project_data.users.items %}
        <tr>
            <td style="padding-left: 20px;">{{ username }}</td>
            <td>{{ user_data.total_hours }}</td>
            <td>{{ user_data.total_hours }}</td>
        </tr>
            {% for activity, hours in user_data.activities.items %}
            <tr>
                <td style="padding-left: 40px;">{{ activity }}</td>
                <td>{{ hours }}</td>
                <td>{{ hours }}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    {% endfor %}
</table>
<br>
{% endfor %} 